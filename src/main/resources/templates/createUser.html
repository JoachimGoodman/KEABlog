<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head >
    <meta charset="UTF-8">
</head>
<body  th:if="${session.level >= 90}">
<header>
    <div th:replace="fragments/header :: header"></div>
</header>
<div>
<h1>Manage users</h1>

<form th:action="@{/user/create}" th:object="${Blog}" method="post" style="margin-left: 20%;">
    <div class="form-group col-md-9 mt-4">
        <label>First name:</label>
        <input type="text" class="form-control"placeholder="First name" name="firstname">
    </div>
    <div class="form-group col-md-9 mt-4">
        <label>Last name:</label>
        <input type="text" class="form-control"placeholder="Last name" name="lastname">
    </div>
    <div class="form-group col-md-9 mt-4">
        <label>City:</label>
        <input type="text" class="form-control"placeholder="City" name="city">
    </div>
    <div class="form-group col-md-9 mt-4">
        <label>Email:</label>
        <input type="text" class="form-control"placeholder="Email" name="email">
    </div>
    <div class="form-group col-md-9 mt-4">
        <label>Password:</label>
        <input type="password" class="form-control"placeholder="Password" name="password">
    </div>
    <div class="form-group col-md-9 mt-4">
        <label>Age:</label>
        <input type="text" class="form-control"placeholder="Age" name="age">
    </div>
    <div class="form-group col-md-9 mt-4">
        <label>Role:</label>
        <select name="rid">
            <option th:each="role: ${roles}" th:value="${role.rid}"><p th:text="${role.roleName}"></p></option>
        </select>
        <button type="submit" class="btn btn-primary btn-block mt-3 col-md-12">Create user</button>
    </div>
</form>



<table class="table table-hover" style="margin-left: 13%;">
    <thead>
    <tr>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">City</th>
        <th scope="col">Age</th>
        <th scope="col">Email</th>
        <th scope="col">Creation date</th>
        <th scope="col">Role</th>
        <th scope="col">Manage</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each = "user: ${users}">
        <th th:text="${user.firstname}" scope="row"></th>
        <td><p th:text="${user.lastname}"></p></td>
        <td><p th:text="${user.city}"></p></td>
        <td><p th:text="${user.age}"></p></td>
        <td><p th:text="${user.email}"></p></td>
        <td><p th:text="${user.date}"></p></td>
        <td><p th:text="${user.roleName}"></p></td>

        <td><a th:href="@{/user/delete/{id}(id=${user.id})}"class="btn btn-danger">Delete</a><a href="" class="btn btn-info ml-2">Edit</a></td>
    </tr>
    </tbody>
</table>
</div>
<footer>
    <div th:replace="fragments/footer :: footer"></div>
</footer>
</body>
</html>